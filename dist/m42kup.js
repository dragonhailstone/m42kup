var m42kup=function(t){var e={};function r(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)}([function(t,e){function r(t){var e={};for(var r in t)e[r]=t[r];return e}function n(t){var e={};return t.tags&&(e.tags=r(t.tags)),e}function a(t,e){for(var n in t=r(t),e)t[n]=e[n];return t}t.exports={copyOptions:n,tags:a,options:function(t,e){if("object"!=typeof t||"object"!=typeof e)throw TypeError("One of the options provided is not an object");return t=n(t),e.tags&&(t.tags||(t.tags={}),t.tags=a(t.tags,e.tags)),t}}},function(t,e,r){var n=r(2),a=r(3),o=r(0),i={};var s={parser:n,converter:a,render:function(t,e){t+="",e||(e={}),e.tags||(e.tags={}),e=o.options(i,e);var r=n.generateParseTreeFromInput(t),s=n.generateASTFromParseTree(r);return a.convert(s,e)},cascade:function(t){if("object"!=typeof t)throw TypeError("typeof options != 'object'");i=o.options(i,t)},set:function(t){if("object"!=typeof t)throw TypeError("typeof options != 'object'");i=t}};t.exports=s},function(t,e){t.exports={generateParseTreeFromInput:function(t){var e=[],r=[];function n(e){if("text"==e.type&&r.length&&"text"==r[r.length-1].type){var n=r.pop();e={type:"text",start:n.start,end:e.end,data:n.data+e.data}}if("right boundary marker"==e.type){for(var a=[e];;){if(!(s=r.pop()))throw new Error("No lbm found");if(a.unshift(s),"left boundary marker"==s.type&&s.level==e.level)break}var o=a[0].start,i=a[a.length-1].end;e={type:"element",start:o,end:i,data:t.substring(o,i),children:a}}if("right verbatim marker"==e.type){var s;for(a=[e];;){if(!(s=r.pop()))throw new Error("No lvm found");if(a.unshift(s),"left verbatim marker"==s.type&&s.level==e.level)break}var l=a[0].start,p=a[a.length-1].end;e={type:"verbatim",start:l,end:p,data:t.substring(l,p),children:a}}r.push(e)}for(var a=0;a<t.length;)if("`"==t[a]){var o=a;for(a++;a<t.length&&"`"==t[a];a++);var i=a;n({type:"left verbatim marker",start:o,end:i,data:t.substring(o,i),level:i-o}),e.push(-(i-o));var s,l,p=!1;for(a++;a<t.length;a++)if("`"==t[a]){var u=a;for(a++;a<t.length&&"`"==t[a];a++);var h=a;if(h-u==i-o){p=!0,[s,l]=[u,h];break}}n({type:"text",start:T=i,end:j=p?s:a,data:t.substring(T,j)}),p&&(n({type:"right verbatim marker",start:s,end:l,data:t.substring(s,l),level:l-s}),e.pop())}else if("["==t[a]){var d=a;for(a++;a<t.length&&"<"==t[a];a++);var f=a;if(f-d<(v=e[e.length-1]||0)){n({type:"text",start:d,end:f,data:t.substring(d,f)});continue}e.push(f-d),n({type:"left boundary marker",start:d,end:f,data:t.substring(d,f),level:f-d});var c=a,y=c+t.substring(c).match(/^(?:(?:\*{1,3}|={1,6}|\${1,2}|;{1,3}|[!"#$%&')*+,\-.\/;=>?@\\^_{}~]|[a-z][a-z0-9]*)|)/i)[0].length;n({type:"tag name",start:c,end:y,data:t.substring(c,y)});var m=a=y,g=m+t.substring(m).match(/^(?:[ \t|]|)/i)[0].length;n({type:"separator",start:m,end:g,data:t.substring(m,g)}),a=g}else if(">"==t[a]||"]"==t[a]){for(var v=e[e.length-1]||0,b=a;a<t.length&&">"==t[a];a++);var x=a;if(x==t.length||"]"!=t[x]){n({type:"text",start:b,end:x,data:t.substring(b,x)});continue}if(0==v){n({type:"text",start:b,end:x,data:t.substring(b,x)});var $=a,w=++a;n({type:"mismatched right boundary marker",start:$,end:w,data:t.substring($,w)});continue}if(++a-b<v){n({type:"text",start:b,end:a,data:t.substring(b,a)});continue}a-b>v&&n({type:"text",start:b,end:a-v,data:t.substring(b,a-v)});var k=a-v,E=a;n({type:"right boundary marker",start:k,end:E,data:t.substring(k,E),level:E-k}),e.pop()}else{var j,T=a;for(a++;a<t.length&&!["[","]","`",">"].includes(t[a]);a++);n({type:"text",start:T,end:j=a,data:t.substring(T,j)})}for(var O=e.length-1;O>=0;O--){var S=e[O]>0?"right boundary marker":"right verbatim marker",q=e[O]>0?e[O]:-e[O];n({type:S,start:t.length,end:t.length,data:"",level:q})}return r},generateASTFromParseTree:function(t){return function t(e){return e.map(e=>{switch(e.type){case"text":return{type:"text",text:e.data};case"verbatim":return{type:"text",text:e.children[1].data};case"element":return{type:"element",name:e.children[1].data,code:e.data,children:t(e.children.slice(3,-1))};case"mismatched right boundary marker":return{type:"error",text:e.data};default:throw new TypeError(`Unknown type: ${e.type}`)}})}(t)}}},function(t,e,r){var n=t=>({type:"text",text:t}),a=t=>({type:"html",html:t}),o=t=>`<code class="m42kup-error">${i(t)}</code>`,i=t=>t.replace(/[&<>"']/g,t=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[t]),s=t=>{if("html"==t.type)return t;if("text"==t.type)return a(i(t.text).replace(/\n/g,"<br>"));if("error"==t.type)return a(o(t.text));throw new TypeError(`Cannot convert type ${t.type} to HTML`)},l=(...t)=>e=>(t.forEach(t=>e=t(e)),e),p={comment:t=>n(""),entity:t=>{if("text"!=t.type)throw new TypeError("Non-text input");if(!/^([a-z]{1,50}|#[0-9]{1,10}|#x[0-9a-f]{1,10})$/i.test(t.text))throw new SyntaxError("Invalid value");return a(`&${t.text};`)}};["b","blockquote","code","i","u","h1","h2","h3","h4","h5","h6","p","sup","sub"].forEach(t=>p[t]=l(s,e=>a(`<${t}>${e.html}</${t}>`))),p.blockcode=l(s,t=>{var e=t.html.replace(/(^[ \t]*\n)|(\n[ \t]*$)/g,"");return a(`<pre><code>${e}\n</code></pre>`)}),p.bi=l(p.b,p.i),["br","hr"].forEach(t=>p[t]=l(s,e=>a(`<${t}>${e.html}`))),p.link=(t=>{if("text"!=t.type)throw new TypeError("Non-text input");if(/^(http:\/\/|https:\/\/)/.test(t.text)||(t.text="http://"+t.text),!/^(http:\/\/|https:\/\/)[a-z0-9]+(-+[a-z0-9]+)*(\.[a-z0-9]+(-+[a-z0-9]+)*)+\.?(:[0-9]{1,5})?(\/[^ ]*)?$/.test(t.text))throw Error("Invalid URL");return t=s(t),a(`<a href="${t.html}">${t.html}</a>`)}),["ol","ul","li"].forEach(t=>p[t]=l(s,e=>a(`<${t}>${e.html}</${t}>`))),["table","tr","td","th"].forEach(t=>p[t]=l(s,e=>a(`<${t}>${e.html}</${t}>`))),["squote","dquote"].forEach(t=>p[t]=l(s,e=>{var r={squote:["‘","’"],dquote:["“","”"]};return a(`${r[t][0]}${e.html}${r[t][1]}`)})),["highlight","math","displaymath"].forEach(t=>p[t]=(t=>{throw Error("Element not implemented")}));var u={'"':"dquote",$:"math",$$:"displaymath","%":"comment","&":"entity","'":"squote","*":"i","**":"b","***":"bi",";":"code",";;":"blockcode",";;;":"highlight","=":"h1","==":"h2","===":"h3","====":"h4","=====":"h5","======":"h6",">":"blockquote","\\":"br","^":"sup",_:"sub","~":"link"};for(var h in u){if(!p[u[h]])throw new TypeError(`aliases[${JSON.stringify(h)}] aliases non-existing function ${JSON.stringify(u[h])}`);p[h]=p[u[h]]}t.exports={convert:function(t,e){e||(e={}),e.tags||(e.tags={});var n=r(0).tags(p,e.tags);for(var i in n)!1===n[i]&&delete n[i];for(var l=t=>{var e;try{if(!(t.name in n)){if(!t.name)throw Error("No tag name");throw Error("Undefined tag name")}t.children=t.children.map(t=>"element"==t.type?l(t):t),t.children.every(t=>"text"==t.type)?t.render={type:"text",text:t.children.map(t=>t.text).join("")}:t.render={type:"html",html:t.children.map(s).map(t=>t.html).join("")},e=n[t.name](t.render)}catch(r){e=a(o(t.code))}finally{return e}},u=0;u<t.length;u++)"element"==t[u].type&&(t[u]=l(t[u]));return t.map(s).map(t=>t.html).join("")},text:n,html:a,escapeHtml:i,htmlFilter:s}}]);