var m42kup=function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){var n=r(1),a=r(2);var o={parser:n,converter:a,render:function(e,t){var r=n.generateParseTreeFromInput(e),o=n.generateASTFromParseTree(r);return a.convert(o,t)}};e.exports=o},function(e,t){e.exports={generateParseTreeFromInput:function(e){var t={levels:[],stack:[]};function r(r){if("text"==r.type&&t.stack.length&&"text"==t.stack[t.stack.length-1].type){var n=t.stack.pop();r={type:"text",start:n.start,end:r.end,data:n.data+r.data}}if("right boundary marker"==r.type){for(var a=[r];;){if(!(i=t.stack.pop()))throw new Error("No lbm found");if(a.unshift(i),"left boundary marker"==i.type&&i.level==r.level)break}var o=a[0].start,l=a[a.length-1].end;r={type:"element",start:o,end:l,data:e.substring(o,l),children:a}}if("right verbatim marker"==r.type){var i;for(a=[r];;){if(!(i=t.stack.pop()))throw new Error("No lvm found");if(a.unshift(i),"left verbatim marker"==i.type&&i.level==r.level)break}var s=a[0].start,u=a[a.length-1].end;r={type:"verbatim",start:s,end:u,data:e.substring(s,u),children:a}}t.stack.push(r)}for(var n=0;n<e.length;)if("`"==e[n]){var a=n;for(n++;n<e.length&&"`"==e[n];n++);var o=n;r({type:"left verbatim marker",start:a,end:o,data:e.substring(a,o),level:o-a}),t.levels.push(-(o-a));var l,i,s=!1;for(n++;n<e.length;n++)if("`"==e[n]){var u=n;for(n++;n<e.length&&"`"==e[n];n++);var p=n;if(p-u==o-a){s=!0,[l,i]=[u,p];break}}r({type:"text",start:w=o,end:$=s?l:n,data:e.substring(w,$)}),s&&(r({type:"right verbatim marker",start:l,end:i,data:e.substring(l,i),level:i-l}),t.levels.pop())}else if("["==e[n]){var f=n;for(n++;n<e.length&&"["==e[n];n++);var d=n;if(d-f<(y=t.levels[t.levels.length-1]||0)){r({type:"text",start:f,end:d,data:e.substring(f,d)});continue}t.levels.push(d-f),r({type:"left boundary marker",start:f,end:d,data:e.substring(f,d),level:d-f});var h=n,c=h+e.substring(h).match(/^(?:(?:\*{1,3}|={1,6}|\${1,2}|;{1,3}|[!"#$%&')*+\-.\/;<=>?@\\^_`{}~]|[a-z][a-z0-9]*)|)/i)[0].length;r({type:"tag name",start:h,end:c,data:e.substring(h,c)});var v=n=c,m=v+e.substring(v).match(/^(?:[ \t|]|)/i)[0].length;r({type:"separator",start:v,end:m,data:e.substring(v,m)}),n=m}else if("]"==e[n]){var y;if(0==(y=t.levels[t.levels.length-1]||0)){var b=n;for(n++;n<e.length&&"]"==e[n];n++);var g=n;r({type:"mismatched right boundary marker",start:b,end:g,data:e.substring(b,g)});continue}var x=n;for(n++;n-x<y&&n<e.length&&"]"==e[n];n++);var k=n;if(k-x<y){r({type:"text",start:x,end:k,data:e.substring(x,k)});continue}r({type:"right boundary marker",start:x,end:k,data:e.substring(x,k),level:k-x}),t.levels.pop()}else{var $,w=n;for(n++;n<e.length&&!["[","]","`"].includes(e[n]);n++);r({type:"text",start:w,end:$=n,data:e.substring(w,$)})}for(var E=t.levels.length-1;E>=0;E--){var T=t.levels[E]>0?"right boundary marker":"right verbatim marker",j=t.levels[E]>0?t.levels[E]:-t.levels[E];r({type:T,start:e.length,end:e.length,data:"",level:j})}return t.stack},generateASTFromParseTree:function(e){return function e(t){return t.map(t=>{switch(t.type){case"text":return{type:"text",text:t.data};case"verbatim":return{type:"text",text:t.children[1].data};case"element":return{type:"element",name:t.children[1].data,code:t.data,children:e(t.children.slice(3,-1))};case"mismatched right boundary marker":return{type:"error",text:t.data};default:throw new TypeError(`Unknown type: ${t.type}`)}})}(e)}}},function(e,t){var r=e=>({type:"text",text:e}),n=e=>({type:"html",html:e}),a=e=>`<code class="m42kup-error">${o(e)}</code>`,o=e=>e.replace(/[&<>"']/g,e=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[e]),l=e=>{if("html"==e.type)return e;if("text"==e.type)return n(o(e.text));if("error"==e.type)return n(a(e.text));throw new TypeError(`Cannot convert type ${e.type} to HTML`)},i=(...e)=>t=>(e.forEach(e=>t=e(t)),t),s={lbrack:e=>r("["),rbrack:e=>r("]"),grave:e=>r("`"),comment:e=>r(""),entity:e=>{if("text"!=e.type)throw new TypeError("Non-text input");if(!/^([a-z]{1,50}|#[0-9]{1,10}|#x[0-9a-f]{1,10})$/i.test(e.text))throw new SyntaxError("Invalid value");return n(`&${e.text};`)}};["b","blockquote","code","i","u","h1","h2","h3","h4","h5","h6","p","sup","sub"].forEach(e=>s[e]=i(l,t=>n(`<${e}>${t.html}</${e}>`))),s.blockcode=i(l,e=>n(`<pre><code>${e.html}</code></pre>`)),s.bi=i(s.b,s.i),["br","hr"].forEach(e=>s[e]=i(l,t=>n(`<${e}>${t.html}`))),s.link=(e=>{if("text"!=e.type)throw new TypeError("Non-text input");return/^(http:\/\/|https:\/\/)/.test(e.text)||(e.text="http://"+e.text),e=l(e),n(`<a href="${e.html}">${e.html}</a>`)}),["ol","ul","li"].forEach(e=>s[e]=i(l,t=>n(`<${e}>${t.html}</${e}>`))),["table","tr","td","th"].forEach(e=>s[e]=i(l,t=>n(`<${e}>${t.html}</${e}>`))),["squote","dquote"].forEach(e=>s[e]=i(l,t=>{var r={squote:["‘","’"],dquote:["“","”"]};return n(`${r[e][0]}${t.html}${r[e][1]}`)}));var u={'"':"dquote","%":"comment","&":"entity","'":"squote","*":"i","**":"b","***":"bi",";":"code",";;":"blockcode","=":"h1","==":"h2","===":"h3","====":"h4","=====":"h5","======":"h6",">":"blockquote","\\":"br","^":"sup",_:"sub","`":"grave","{":"lbrack","}":"rbrack","~":"link"};for(var p in u){if(!s[u[p]])throw new TypeError(`rfAliases[${JSON.stringify(p)}] aliases non-existing function ${u[p]}`);s[p]=s[u[p]]}e.exports={convert:function(e,t){t||(t={});var r={};for(var o in s)r[o]=s[o];if(t.rf)for(var o in t.rf)if(t.rf[o]instanceof Function)r[o]=t.rf[o];else{if(!1!==t.rf[o])throw new TypeError(`Unsupported value: options.rf[${JSON.stringify(o)}] == ${t.rf[o]}`);delete r[o]}s=r;for(var i=e=>{var t;try{if(!(e.name in s))throw new TypeError("Undefined tag name");e.children=e.children.map(e=>"element"==e.type?i(e):e),e.children.every(e=>"text"==e.type)?e.render={type:"text",text:e.children.map(e=>e.text).join("")}:e.render={type:"html",html:e.children.map(l).map(e=>e.html).join("")},t=s[e.name](e.render)}catch(r){t=n(a(`[${e.name}]: ${r.message}: ${e.code}`))}finally{return t}},u=0;u<e.length;u++)"element"==e[u].type&&(e[u]=i(e[u]));return e.map(l).map(e=>e.html).join("")},text:r,html:n,helper:{escapeHtml:o,htmlFilter:l,pipe:i}}}]);